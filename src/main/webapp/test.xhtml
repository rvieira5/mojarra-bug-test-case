<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

    <h:head>
        <title>Mojarra Bug Test Case</title>
    </h:head>
    <h:body>

        <p>The following example shows a list of objects, with all of them
            having a inner object instantiated. The table should be printing only
            'object exists' values in the second column, for all JSF
            implementations. AFAIK the following example works in MyFaces but
            doesn't work in Mojarra.</p>

        <hr />

        <h:form id="firstForm">
            <h:dataTable id="firstTable" value="#{testView.list}" var="testRow">
                <h:column>
                    <f:facet name="header">Side effect enabled?</f:facet>
                    <h:outputText value="#{testView.generateOutputWithSideEffect(testRow)}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Current var exists?</f:facet>
                    <h:outputText
                        value="#{empty testRow ? '--' : 'object exists'}" />
                </h:column>
            </h:dataTable>
        </h:form>

        <h:form id="secondForm">
            <h:dataTable id="secondTable" value="#{testView.list}" var="testRow" />
        </h:form>

        <h:form id="thirdForm">
        </h:form>

    </h:body>
</html>
